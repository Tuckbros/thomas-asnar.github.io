---
layout: page
title: Visual TOM - VTOM
date: 2012-09-07 13:07
author: Thomas ASNAR
titre-court: VTOM
categories: ["VTOM","Visual TOM"]
---
<a href="/wp-content/uploads/logo_vtom.png"><img src="/wp-content/uploads/logo_vtom.png" alt="logo_vtom" width="65" height="65" /></a>
<p>Cela fait maintenant quelques années que je suis administrateur de l'ordonnanceur Visual TOM (ou VTOM pour les intimes) et cette page a pour vocation de vous faire profiter de mon expérience sur ce produit que j'affectionne.</p>

<h1>Qu'est-ce que VTOM ?</h1>
<p>Visual TOM, acronyme de Visual Time Operation Manager, est un automate qui libère les services d’exploitation des contraintes liées aux systèmes hétérogènes ainsi que des tâches répétitives et des contraintes de manipulations existant entre tous les travaux à effectuer sur un site informatique.</p>
<p>Visual TOM permet :</p>

<ul>
	<li>La mise en œuvre de la production par modélisation graphique. Les schémas d’exploitation sont ainsi définis dynamiquement (objets, couleurs, textes) ;</li>
	<li>La planification de travaux périodiques ou à la demande, c’est-à-dire non-planifiables à l’avance;</li>
	<li>La synchronisation de l’ensemble des contraintes (dépendances et événements) entre toutes les entités de l’exploitation (réception de fichiers, événements utilisateurs, événements extérieurs…) ;</li>
	<li>La prise en charge des actions et le planning à mettre en œuvre en temps réel;</li>
	<li>La préparation automatique des travaux (Visual TOM calcule les dates et les variables d’environnement nécessaires à la préparation des travaux) ;</li>
	<li>L’administration centralisée par l’intermédiaire d’un pilote qui donne une vue synthétique de l’état d’avancement de l’exploitation (suivi des tests réalisés et des décisions prises par le moteur grâce à des comptes rendus d’activités ou des fichiers logs) ;</li>
	<li>La gestion centralisée des incidents (détecter les incidents, effectuer les relances automatiques et les déplanifications des traitements en fonction de l’exécution des jobs terminés).</li>
</ul>
<p>
Je n'ai pas d'actions chez <a title="Absyss VTOM" href="http://www.absyss.fr">Absyss</a>, société éditrice de VTOM, mais ce dernier a l'avantage d'être très visuel et facile à prendre en main. Et cela, que ça soit pour l'administrateur, pour l'équipe de supervision, d'exploitation ou de pilotage.
</p>
<p>
La simplicité d'utilisation et de prise en main de VTOM ne détériorent en rien ses capacités d'ordonnancement.
</p>
<p>
Enfin, je finirai ma présentation de ce produit par sa capacité d'évolution. Absyss est une entreprise qui a encore cette dimension humaine qui fait cruellement défaut à tant d'autres. En effet, que cela soit lors des séminaires <a title="VITO Absyss" href="http://vito.absyss.com/">VITO </a>et durant les tables rondes de travail, ou que cela soit des demandes d'évolution au support technique, nos desiderata sont toujours pris en considération et font souvent l'objet de mise à niveau du produit.
</p>
<h2>Architecture physique</h2>
L'architecture VTOM que j'utilise est dite centralisée, clients-serveur.
<p >La partie serveur est orchestrée par un serveur principal (dit primaire). Le primaire gère l'ordonnancement et donne les ordres d'exécution à ses logiciels clients. Il réplique son référentiel (sa base) vers un serveur secondaire (appelé backup). La réplication est gérée logiciellement par le produit.</p>
<p >Cette architecture permet de reprendre l'activité automatiquement sur le backup en cas de panne sur le primaire.</p>
<p >Les clients sont installés sur toutes les machines qui ont besoin d'être ordonnancées. Ils exécutent les traitements ordonnancés par le serveur et renvoient le code retour d'exécution.</p>
<p >VTOM dispose d'une interface homme machine (IHM). L'IHM est installée sur les postes de la cellule production h24 de la Supervision Nationale. Elle permet de suivre l'état du plan d'ordonnancement grâce à un système de codes couleurs et de fiches réflexes implémentées directement dans l'IHM.</p>
<p >Même si mon architecture a un peu changé avec la virtualisation des serveurs VTOM, le schéma ci-après représente bien les flux :</p>
<a href="/wp-content/uploads/schema-architecture-vtom.jpg"><img src="/wp-content/uploads/schema-architecture-vtom-300x212.jpg" alt="architecture vtom"/></a>

<h2 >Architecture Logique</h2>
<p >Schéma d'organisation logique d'un domaine d'exploitation dans VTOM :</p>
<a href="/wp-content/uploads/schema-organisation-logique-vtom.png"><img src="/wp-content/uploads/schema-organisation-logique-vtom-292x300.png" alt="organisation logique vtom"/></a>

<p>L'<strong>environnement</strong> est un conteneur logique d'applications (au sens VTOM), cloisonné en termes de ressources, de dates, et de machines. Je préconise souvent aux Directions de Projet (DP) de créer un environnement par SI et par plateforme.
L'environnement dispose d'un moteur pouvant être activé ou arrêté sans impacter le reste des autres environnements.
</p>
<a href="/wp-content/uploads/environnement.png"><img src="/wp-content/uploads/environnement-300x160.png" alt="environnement"/></a>

<p >Une <strong>application</strong> est un conteneur logique de traitements (au sens VTOM), conditionnant une date d'exploitation et un planning.</p>
<p >Un <strong>traitement</strong> est le plus petit élément VTOM. C'est lui qui lance la commande, le script, le programme à exécuter. Il est défini principalement par sa machine, son utilisateur de soumission, son script et ses paramètres.</p>
<p >Une <a title="Ecrire sa queue batch VTOM (cygwin, php, perl, sap)" href="/ecrire-sa-queue-batch-vtom-cygwin-php-perl/"><strong>queue d'exécution</strong></a> englobe le traitement, met en forme les logs d'exécution et renvoie le code retour au serveur VTOM. C'est un script personnalisable permettant : l'initialisation de variables d'environnements dans un contexte particulier, envoi d'email, etc. (tout ce qui est scriptable).</p>

<h2 >Retour d'expérience en tant que client</h2>
<a href="/wp-content/uploads/MINISTERE_DEFENSE_DIRISI.pdf">MINISTERE_DEFENSE_DIRISI_VTOM_ASNAR</a>